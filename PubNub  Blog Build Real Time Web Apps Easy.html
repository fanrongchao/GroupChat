

<html><!-- Hey, let's be friends! twitter.com/pubnub --><head>    
    <script type="text/javascript" src="./PubNub  Blog Build Real Time Web Apps Easy_files/jquery.min.js"></script>
</head>
<body class="blog/build-real-time-web-apps-easy blog/build-real-time-web-apps-easy" data-twttr-rendered="true">

<h1>Easy Real-time Apps</h1>
<div class="clear"></div>

<p>
    Chat in <strong>10 lines of JavaScript</strong>.
    Quickest way to write Real-time Apps on mobile and web.
</p>

<style>
#list, #box, #input, #username {
    padding: 10px;
    margin: 10px;
    width: 500px;

    text-shadow: #ccc -1px -1px 2px;

    -webkit-border-radius: 4px;
    -moz-border-radius: 4px;
    -o-border-radius: 4px;
    border-radius: 4px;

    -webkit-box-shadow: inset 0 0 30px #eee;
    -moz-box-shadow: inset 0 0 30px #eee;
    -o-box-shadow: inset 0 0 30px #eee;
    box-shadow: inset 0 0 30px #eee;
}
#box {
    height: 100px;
    overflow: scroll;
    overflow-x: hidden;
    border: 1px solid #888;
    background: #f8f8f8 url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAZCAYAAADwkER/AAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAADdJREFUCNdVzDEOwCAUw9DX/Nv2/kMLRXQD4cFylsAd9KAtvcFz1p5bLfjWwQhGIYUrmMEsiIMfNxwSOsvoNw4AAAAASUVORK5CYII=') repeat-x;
}
#list {
    height: 100px;
    overflow: scroll;
    overflow-x: hidden;
    border: 1px solid #888;
    background: #f8f8f8 url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAZCAYAAADwkER/AAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAADdJREFUCNdVzDEOwCAUw9DX/Nv2/kMLRXQD4cFylsAd9KAtvcFz1p5bLfjWwQhGIYUrmMEsiIMfNxwSOsvoNw4AAAAASUVORK5CYII=') repeat-x;
}
#input ,#username{
    font-size: 20px;
    line-height: 20px;
}
</style>
<div><input id="username" placeholder="enter your name" x-webkit-speech=""></div>
<div><input id="input"  placeholder="you-chat-here" x-webkit-speech=""></div>
<div id="box"></div>
<div id="list"></div> 
<div id="pubnub" pub-key="demo" sub-key="demo" style="position: absolute; top: -1000px; "></div>
<script src="./PubNub  Blog Build Real Time Web Apps Easy_files/pubnub-3.1.min.js"></script>
<script>(function(){
var userlist = new Array();

var box = PUBNUB.$('box'), input = PUBNUB.$('input'), channel = 'chat', username=PUBNUB.$('username'), list=PUBNUB.$('list');
PUBNUB.subscribe({
    channel  : channel,
    callback : function(text) {
        var type = text['type'];
        var info = text['info'];
        if(type=='msg')
        box.innerHTML = "<div>"+text['name']+":::::::::::::::::::"+new Date().getTime()+text['type']+(''+text['info']).replace( /[<>]/g, '' ) + '<br/>'+"</div>" + box.innerHTML;
        else{
            if(jQuery.inArray(info, userlist)<0){
                userlist.push(info);
                list.innerHTML = "<div>" +"Welcome! "+ (''+text['info']).replace( /[<>]/g, '' ) + '<br/>' +"</div>"+ list.innerHTML ; }
        }
    }
});
PUBNUB.bind( 'keyup', input, function(e) {
    
   if  ((e.keyCode || e.charCode)=== 13) 
   {
       PUBNUB.publish({
        channel : channel, 
        message : {
            'type':  "msg",
            'info': input.value,
            'name': username.value 
        }
       });
       $('#input').val("");
  }
} );
PUBNUB.bind( 'keyup', username, function(e) {
    (e.keyCode || e.charCode) === 13 && PUBNUB.publish({
        channel : channel, 
        message : {
            'type':  "add",
            'info': username.value
        }
    });
} );

})();</script>



</body></html>
